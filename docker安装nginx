DOCKER中修改nginx的方法：
在Docker中配置Nginx可以通过两种方式：直接在容器内部修改配置文件，或者将外部配置文件挂载到容器中。

直接在容器内部修改配置文件

创建并运行Nginx容器：
docker run -d --name nginx -p 80:80 nginx

进入容器内部：
docker exec -it nginx /bin/bash

修改Nginx配置文件：
vim /etc/nginx/nginx.conf

重新加载Nginx配置：
docker exec -it nginx nginx -s reload

使用外部配置文件

创建用于存放Nginx配置文件的目录：
mkdir -p /home/usr/local/docker-config/nginx/conf
mkdir -p /home/usr/local/docker-config/nginx/conf.d
mkdir -p /home/usr/local/docker-config/nginx/html
mkdir -p /home/usr/local/docker-config/nginx/logs

将容器中的配置文件复制到创建的目录中：
docker cp nginx:/etc/nginx/nginx.conf /home/usr/local/docker-config/nginx/
docker cp nginx:/etc/nginx/conf.d /home/usr/local/docker-config/nginx/conf/
docker cp nginx:/usr/share/nginx/html/ /home/usr/local/docker-config/nginx/html/
docker cp nginx:/var/log/nginx/ /home/usr/local/docker-config/nginx/logs/

修改外部配置文件：
vim /home/usr/local/docker-config/nginx/conf/nginx.conf
删除原有容器并重新运行容器，使用外部配置文件：

docker rm -vf nginx
docker run -d --name nginx -p 80:80 \
-v /home/usr/local/docker-config/nginx/nginx.conf:/etc/nginx/nginx.conf \
-v /home/usr/local/docker-config/nginx/logs:/var/log/nginx \
-v /home/usr/local/docker-config/nginx/html:/usr/share/nginx/html \
-v /home/usr/local/docker-config/nginx/conf:/etc/nginx/conf.d \
nginx
Nginx配置示例

以下是一个Nginx配置文件示例，用于实现HTTP请求的负载均衡：

user nginx;
worker_processes auto;

error_log /var/log/nginx/error.log notice;
pid /var/run/nginx.pid;

events {
worker_connections 1024;
}

http {
include /etc/nginx/mime.types;
default_type application/octet-stream;

log_format main '[$time_local] request="$request" remoteAddr="$remote_addr" upstreamAddr="$upstream_addr" status=$status bodyBytesSent=$body_bytes_sent userAgent="$http_user_agent" forwardedFor="$http_x_forwarded_for" realIP="$http_x_real_ip" ';

access_log /var/log/nginx/access.log main;

sendfile on;
keepalive_timeout 65;

include /etc/nginx/conf.d/*.conf;

upstream gateway {
server api-gateway-engine-01:7396;
server api-gateway-engine-02:7396;
}

server {
listen 80;
server_name 127.0.0.1;

location / {
root /usr/share/nginx/html;
index index.html index.htm;
}

location /gateway/ {
proxy_pass http://gateway;
}
}
}
通过以上步骤和配置示例，你可以在Docker中成功配置并运行Nginx
